@using CenterOfExcellence.Components.Common.StepCard

<div class="process-steps-container">
    <!-- Main Title -->
    <div class="text-center mb-12">
        <h2 class="font-heading text-[35px] leading-heading text-gray-800 mb-4">@Title</h2>
        @if (!string.IsNullOrEmpty(Subtitle))
        {
            <p class="font-paragraph text-[18px] leading-paragraph text-gray-600">@Subtitle</p>
        }
    </div>

    <!-- Steps Container -->
    <div class="flex flex-col md:flex-row items-center justify-center gap-8 md:gap-12">
        @for (int i = 0; i < Steps.Count; i++)
        {
            var step = Steps[i];
            
            <div class="flex flex-col md:flex-row items-center">
                <!-- Step Card -->
                <StepCard 
                    StepNumber="@(i + 1)"
                    Title="@step.Title"
                    Description="@step.Description"
                    AdditionalInfo="@step.AdditionalInfo"
                    Icon="@step.Icon" />
                
                <!-- Arrow (except for last step) -->
                @if (i < Steps.Count - 1)
                {
                    <div class="hidden md:block mx-4">
                        <div class="w-16 h-1 bg-gradient-to-r from-blue-600 to-blue-400 rounded-full relative">
                            <div class="absolute right-0 top-1/2 transform -translate-y-1/2 w-0 h-0 border-l-8 border-l-blue-600 border-t-4 border-t-transparent border-b-4 border-b-transparent"></div>
                        </div>
                    </div>
                    
                    <!-- Mobile arrow (vertical) -->
                    <div class="md:hidden my-4">
                        <div class="w-1 h-8 bg-gradient-to-b from-blue-600 to-blue-400 rounded-full relative">
                            <div class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-0 h-0 border-t-4 border-t-blue-600 border-l-4 border-l-transparent border-r-4 border-r-transparent"></div>
                        </div>
                    </div>
                }
            </div>
        }
    </div>
</div>

@code {
    [Parameter] public string Title { get; set; } = "HOW TO BOOK LAB TEST";
    [Parameter] public string Subtitle { get; set; } = string.Empty;
    [Parameter] public List<ProcessStep> Steps { get; set; } = new();

    public class ProcessStep
    {
        public string Title { get; set; } = string.Empty;
        public string Description { get; set; } = string.Empty;
        public string AdditionalInfo { get; set; } = string.Empty;
        public string Icon { get; set; } = string.Empty;
    }
} 